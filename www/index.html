<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Bussio</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="styleForSearchbar.css">
</head>

<body>
<div class="Ueberschrift">
    <h1>Bussio</h1>
</div>

<div class="desc">
    <p>Welche Haltestelle m√∂chtest du anzeigen</p>
</div>



<input id="searchbar" onkeyup="suche_haltestelle()" type="text"
       name="search" placeholder="Haltestelle..">

<ol id="list">
    <li class="haltestelle" onclick="clicked(this)">Brixen Dantestrasse</li>
    <li class="haltestelle" onclick="clicked(this)">Brixen Brixen Bahnhof</li>
    <li class="haltestelle" onclick="clicked(this)">Sterzing Bahnhof</li>
    <li class="haltestelle" onclick="clicked(this)">Sterzing Nordpark</li>
    <li class="haltestelle" onclick="clicked(this)">Gorilla</li>
    <li class="haltestelle" onclick="clicked(this)">Monkey</li>
    <li class="haltestelle" onclick="clicked(this)">Turtle</li>
    <li class="haltestelle" onclick="clicked(this)">Whale</li>
    <li class="haltestelle" onclick="clicked(this)">Aligator</li>
    <li class="haltestelle" onclick="clicked(this)" id="donkey_id">Donkey</li>
    <li class="haltestelle" onclick="clicked(this)">Horse</li>
</ol>

<div class="table-wrapper-scroll-y my-custom-scrollbar">
    <table id="All_stops_id" class="table table-bordered table-striped mb-0">
        <thead>
        <tr>
            <th scope="col">Name</th>
        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</div>


<script>
    function suche_haltestelle() { //maybe https://www.w3schools.com/howto/howto_js_filter_table.asp
        let input = document.getElementById('searchbar').value
        input=input.toLowerCase();
        let x = document.getElementsByClassName('haltestelle');

        for (i = 0; i < x.length; i++) {
            if (!x[i].innerHTML.toLowerCase().includes(input)) {
                x[i].style.display="none";
            }
            else {
                x[i].style.display="list-item";
            }
        }
    }

    function clicked(el){
        console.log(el)
        let name = el.innerHTML.replace(" ", "_")
        window.location.href = 'info.html?haltestelle=' + name;
    }


    function feedtable(json){
        for(line=0; line<5; line++){
            feedtable_line(json, line)
        }
    }

    function feedtable_line(json, line=0){
        let table = document.getElementById("All_stops_id").getElementsByTagName("tbody")[0];
        var row = table.insertRow();

        var cell = row.insertCell(0);
        cell.innerHTML = "<p class='haltestelle' onclick=clicked(this)>test</p>"
        console.log("hmm")
    }

    feedtable("test");
</script>
</body>

</html>